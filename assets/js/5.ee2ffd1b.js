(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{173:function(t,e,a){"use strict";a.r(e);var s=a(0),_=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"微信网页授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#微信网页授权","aria-hidden":"true"}},[t._v("#")]),t._v(" 微信网页授权")]),t._v(" "),a("p",[t._v("appid    公众号唯一标识")]),t._v(" "),a("p",[t._v("微信官网地址：https://mp.weixin.qq.com/wiki/17/c0f37d5704f0b64713d5d2c37b468d75.html")]),t._v(" "),a("h2",{attrs:{id:"_1、用户同意授权，获取code"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、用户同意授权，获取code","aria-hidden":"true"}},[t._v("#")]),t._v(" 1、用户同意授权，获取code")]),t._v(" "),a("blockquote",[a("p",[t._v("https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx93f7ba2b40b1a344&redirect_uri=https%3A%2F%2Fm.mobike.com%2Fh5%2Ftrack%2Fzh%2Findex.html%23%2F&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirec")])]),t._v(" "),a("img",{staticStyle:{width:"400px",height:"400px"},attrs:{src:"/images/WechatIMG220.png"}}),t._v(" "),a("h3",{attrs:{id:"需要在微信公众号后台配置回调域名，打开上边的链接会弹出授权页面，成功授权后会跳转自己的业务页面，url后会带着-code-回来："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要在微信公众号后台配置回调域名，打开上边的链接会弹出授权页面，成功授权后会跳转自己的业务页面，url后会带着-code-回来：","aria-hidden":"true"}},[t._v("#")]),t._v(" 需要在微信公众号后台配置回调域名，打开上边的链接会弹出授权页面，成功授权后会跳转自己的业务页面，url后会带着 code 回来：")]),t._v(" "),a("blockquote",[a("p",[t._v("https://x.xxx.com/app/pages/aboutus/index.html?code=021P5hiq1INP0o0Dxnhq1z5jiq1P5hio&state=STATE")])]),t._v(" "),a("h2",{attrs:{id:"_2、通过code换取网页授权access-token-【后端服务】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、通过code换取网页授权access-token-【后端服务】","aria-hidden":"true"}},[t._v("#")]),t._v(" 2、通过code换取网页授权access_token   【后端服务】")]),t._v(" "),a("blockquote",[a("p",[t._v("https://api.weixin.qq.com/sns/oauth2/access_token?appid=wx93f7ba2b40b1a344&secret=f69d1e0f4971998a8f911a0d537da9e2&code=021P5hiq1INP0o0Dxnhq1z5jiq1P5hio&grant_type=authorization_code")])]),t._v(" "),a("p",[t._v("接口返回：")]),t._v(" "),a("p",[t._v("{")]),t._v(" "),a("pre",[a("code",[t._v('  access_token: "BEg1vcZCMu7IfXKFf6PgrzxcRWdDD50Z1qx_jnI2NIXMO_4SvgC0NVauh8LcDUpn1j8a7erDbW1I4SC1PNfN2a_I0SR1vmyrFLmCTYgncnc",\n  expires_in: 7200,\n  refresh_token: "Dm4b52Slx_fR1D1XdI086TLAoufGeNsSvEbdmUGd9af7IBVpsL8_YpOHiEckCPYChswwcF_INqY_kIXPQmWQSwT88ebSadZGoMbnXB4UJic",\n  openid: "oCRqiuHR5V9njqqh1wgA3AvDbHKU",\n  scope: "snsapi_userinfo"\n')])]),t._v(" "),a("p",[t._v("}")]),t._v(" "),a("h2",{attrs:{id:"_4、拉取用户信息-【后端服务】"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、拉取用户信息-【后端服务】","aria-hidden":"true"}},[t._v("#")]),t._v(" 4、拉取用户信息  【后端服务】")]),t._v(" "),a("p",[t._v("http：GET（请使用https协议）\nhttps://api.weixin.qq.com/sns/userinfo?access_token=ACCESS_TOKEN&openid=OPENID&lang=zh_CN")]),t._v(" "),a("p",[t._v("注意：上线后需要开启跨域")]),t._v(" "),a("p",[t._v("参数：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("属性")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("access_token")]),t._v(" "),a("td",[t._v("网页授权接口调用凭证,注意：此access_token与基础支持的access_token不同link)")])]),t._v(" "),a("tr",[a("td",[t._v("openid")]),t._v(" "),a("td",[t._v("用户的唯一标识")])]),t._v(" "),a("tr",[a("td",[t._v("lang")]),t._v(" "),a("td",[t._v("返回国家地区语言版本，zh_CN 简体，zh_TW 繁体，en 英语")])])])])])}],!1,null,null,null);_.options.__file="authorize.md";e.default=_.exports}}]);